SELECT 
               D.CodDerivacao,
               0 AS Qtd,
               D.Descricao
 FROM TBT_GRADE G
JOIN TBT_DERIVACAO_GRADE DG ON G.CodGrade = DG.CodGrade 
AND DG.IndAtivo = 1
JOIN TBT_DERIVACAO D ON D.CodDerivacao = DG.CodDerivacao
JOIN TBT_MODELO M ON M.CodGrade = G.CodGrade
JOIN TBT_PRODUTO P ON P.CodModelo = M.CodModelo 
AND P.CodProduto = '@CodProduto'
GROUP BY  D.codderivacao
ORDER BY CAST (D.descricao AS DECIMAL) ASC;
